<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Diffo Store Shop</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=account_circle" />
        <link rel="icon" href="DIFFO.png" type="image/png">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
        <script type="text/javascript">
            (function() {
                emailjs.init({
                    publicKey: "JiguPHahVNL1cj6vC",
                });
            })();
        </script>
    </head>
    <body>
        <div class="container navbar">
            <h1 class="logo"><img src="DIFFO.png" alt="Diffo Logo" height="60"></h1>
            <div class="nav-items">
                <nav>
                    <ul>
                        <li><a href="http://localhost/DIFFO/all.html">Home</a></li>
                        <li><a href="http://localhost/DIFFO/contact.html">contact</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="http://localhost/DIFFO/all.html">Shopping</a></li>
                    </ul>
                </nav>
                <li class="dropdown">
                    <a href="#" class="sign-in-link">
                        <span class="material-symbols-outlined">account_circle</span>
                        <style>
                            .material-symbols-outlined {
                                color: white;
                                font-variation-settings: 'FILL' 0, 'wght' 1400, 'GRAD' 0, 'opsz' 40;
                            }
                        </style>
                    </a>
                    <div class="dropdown-content">
                        <a href="singin.html" id="signup-link">Sign In</a>
                        <a href="singin.html" id="signin-link">Login</a>
                        <a href="#">My Orders</a>
                        <button id="logout" style="display: none;">Logout</button>
                    </div>
                </li>
                <a href="http://localhost/DIFFO/cart.html" id="cart-icon" class="cart-icon">
                    <span class="material-icons">shopping_cart</span>
                    <span id="cart-count">0</span>
                    <style>
                        #cart-count {
                            color: white;
                        }
                        .material-icons {
                            color: wheat;
                        }
                    </style>
                </a>
            </div>
        </div>
   <!-- Contact Form Section -->
   <section id="contact" class="contact-section">
    <div class="contact-container">
        <div class="left-section">
            <h2>Contact Us</h2>
            <form class="contact-form" onsubmit="sendmail(event)">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn">Send Message</button>
            </form>
            <div id="status"></div>
        </div>
<style>
    .navbar {
  display: flex;
  justify-content: space-between; /* Space between logo and nav items */
  align-items: center;
  background-color: black; /* Black background with 50% transparency */
  padding: 10px 20px;
  width: 100%; /* Set width to 100% */
  position: relative; /* Make sure itâ€™s positioned properly */
}

.logo {
  margin-right: auto; /* Pushes the logo to the left */
}

.nav-items {
  display: flex;
  align-items: center; /* Align items in nav-items vertically */
}

.navbar img {
  height: 60px; /* Adjusted for smaller height */
  margin-right: 10px; /* Adjust space between logo and items */
}

nav ul {
  list-style: none;
  display: flex;
  gap: 20px;
}

nav ul li a {
  color: white;
  text-decoration: none;
  font-size: 18px;
  transition: color 0.3s;
}

nav ul li a:hover {
  color: #e67e22; /* Change color on hover */
}

/* Dropdown container */
.dropdown {
  position: relative;
}
.account-icon {
  color: white; /* Change the color to white */
  font-size: 24px; /* Adjust size as needed */
  cursor: pointer; /* Change cursor to pointer on hover */}

/* Dropdown content (initially hidden) */
.dropdown-content {
  display: none;
  position: absolute;
  top: 100%; /* Position below the icon */
  right: 0;
  background-color: white;
  min-width: 200px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 5px;
  overflow: hidden;
}

/* Dropdown items */
.dropdown-content a {
  display: block;
  padding: 10px;
  text-decoration: none;
  color: black;
  transition: background-color 0.3s;
}

.dropdown-content a:hover {
  background-color: #f1f1f1;
}

/* Show the dropdown on hover or click */
.dropdown:hover .dropdown-content,
.dropdown.active .dropdown-content {
  display: block;
}

    .contact-section {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 50px;
  background-color: #f8f9fa;
}

.contact-container {
  max-width: 600px;
  width: 100%;
  background-color: #ffffff;
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.left-section h2 {
  font-size: 2rem;
  color: #333;
  margin-bottom: 20px;
  text-align: center;
}

.contact-form {
  display: flex;
  flex-direction: column;
}

.form-group label {
  font-size: 1rem;
  color: #666;
  margin-bottom: 5px;
  display: block;
}

input[type="text"],
input[type="email"],
textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 5px;
  margin-bottom: 15px;
  font-size: 1rem;
  box-sizing: border-box;
}

input[type="text"]:focus,
input[type="email"]:focus,
textarea:focus {
  outline: none;
  border-color: #3498db;
  box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
}

.contact-form button {
  width: 100%;
  padding: 15px;
  background-color: #3498db;
  color: #fff;
  border: none;
  border-radius: 5px;
  font-size: 1.2rem;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.3s;
}

.contact-form button:hover {
  background-color: #2980b9;
  transform: scale(1.05);
}

#status {
  margin-top: 15px;
  text-align: center;
  font-size: 1rem;
  color: #666;
}

</style>


        
    <script >
        function sendmail(event) {
    // Prevent the default form submission
    event.preventDefault();

    let parms = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        message: document.getElementById("message").value,
    };

    emailjs.send("service_4ziknno", "template_w9blpb4", parms)
        .then(response => {
            Swal.fire({
                title: 'Message Sent!',
                text: 'Your message has been sent successfully.',
                icon: 'success',
                confirmButtonText: 'Okay'
            });
            console.log(response);
        })
        .catch(error => {
            Swal.fire({
                title: 'Error!',
                text: "Failed to send email: " + error.text,
                icon: 'error',
                confirmButtonText: 'Okay'
            });
            console.error("Error sending email:", error); // More detailed logging
        });
}

    </script>
    <script>
        // Check login state from localStorage
        const isLoggedIn = localStorage.getItem('loggedInUserId') !== null;
        
        // DOM Elements
        const signupLink = document.getElementById('signup-link');
        const loginLink = document.getElementById('signin-link'); // Fixed ID reference
        const logoutButton = document.getElementById('logout');
        const ordersLink = document.getElementById('orders-link'); // Ensure this ID exists in your HTML
        
        // Show/Hide elements based on login state
        if (isLoggedIn) {
            signupLink.style.display = 'none';
            loginLink.style.display = 'none';
            // Ensure ordersLink exists in HTML; otherwise, comment it out
            if (ordersLink) {
                ordersLink.style.display = 'block'; // Uncomment if orders link exists
            }
            logoutButton.style.display = 'block';
        } else {
            logoutButton.style.display = 'none'; // Ensure logout is hidden if not logged in
        }
        
        // Logout functionality
        logoutButton.addEventListener('click', () => {
            localStorage.removeItem('loggedInUserId');
            window.location.reload();
        });
    </script>
    </body>
</html>